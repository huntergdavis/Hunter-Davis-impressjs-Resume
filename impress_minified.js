(function(a,b){"use strict";var c=function(){var b=a.createElement("dummy").style,c="Webkit Moz O ms Khtml".split(" "),d={};return function(a){if(typeof d[a]==="undefined"){var e=a.charAt(0).toUpperCase()+a.substr(1),f=(a+" "+c.join(e+" ")+e).split(" ");d[a]=null;for(var g in f){if(b[f[g]]!==undefined){d[a]=f[g];break}}}return d[a]}}();var d=function(a){return[].slice.call(a)};var e=function(a,b){var d,e;for(d in b){if(b.hasOwnProperty(d)){e=c(d);if(e!=null){a.style[e]=b[d]}}}return a};var f=function(a,b){return isNaN(a)?b||0:Number(a)};var g=function(b){return a.getElementById(b)};var h=function(b,c){c=c||a;return c.querySelector(b)};var i=function(b,c){c=c||a;return d(c.querySelectorAll(b))};var j=function(a){return" translate3d("+a.x+"px,"+a.y+"px,"+a.z+"px) "};var k=function(a,b){var c=" rotateX("+a.x+"deg) ",d=" rotateY("+a.y+"deg) ",e=" rotateZ("+a.z+"deg) ";return b?e+d+c:c+d+e};var l=function(a){return" scale("+a+") "};var m=function(a){return" perspective("+a+"px) "};var n=function(){return g(b.location.hash.replace(/^#\/?/,""))};var o=navigator.userAgent.toLowerCase();var p=c("perspective")!=null&&a.body.classList&&a.body.dataset&&o.search(/(iphone)|(ipod)|(android)/)==-1;var q={};var r={width:1024,height:768,maxScale:1,minScale:0,perspective:1e3,transitionDuration:1e3};var s=b.impress=function(c){c=c||"impress";if(q["impress-root-"+c]){return q["impress-root-"+c]}var o=g(c);if(!p){o.className="impress-not-supported";return}else{o.className=""}var s=h("meta[name='viewport']")||a.createElement("meta");s.content="width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no";if(s.parentNode!=a.head){s.name="viewport";a.head.appendChild(s)}var t=o.dataset;var u={width:f(t.width,r.width),height:f(t.height,r.height),maxScale:f(t.maxScale,r.maxScale),minScale:f(t.minScale,r.minScale),perspective:f(t.perspective,r.perspective),transitionDuration:f(t.transitionDuration,r.transitionDuration)};var v=a.createElement("div");v.className="canvas";d(o.childNodes).forEach(function(a){v.appendChild(a)});o.appendChild(v);var w=i(".step",o);a.documentElement.style.height="100%";e(a.body,{height:"100%",overflow:"hidden"});var x={position:"absolute",transformOrigin:"top left",transition:"all 0s ease-in-out",transformStyle:"preserve-3d"};e(o,x);e(o,{top:"50%",left:"50%",transform:m(u.perspective)});e(v,x);var y={translate:{x:0,y:0,z:0},rotate:{x:0,y:0,z:0},scale:1};var z={};var A=function(a){return!!(a&&a.id&&z["impress-"+a.id])};var B=function(){var a=b.innerHeight/u.height,c=b.innerWidth/u.width,d=a>c?c:a;if(u.maxScale&&d>u.maxScale){d=u.maxScale}if(u.minScale&&d<u.minScale){d=u.minScale}return d};w.forEach(function(a,b){var c=a.dataset,d={translate:{x:f(c.x),y:f(c.y),z:f(c.z)},rotate:{x:f(c.rotateX),y:f(c.rotateY),z:f(c.rotateZ||c.rotate)},scale:f(c.scale,1),el:a};if(!a.id){a.id="step-"+(b+1)}z["impress-"+a.id]=d;e(a,{position:"absolute",transform:"translate(-50%,-50%)"+j(d.translate)+k(d.rotate)+l(d.scale),transformStyle:"preserve-3d"})});var C=null;var D=null;var E=B();var F=function(a,c){if(!A(a)||a==C&&!c){return false}b.scrollTo(0,0);var d=z["impress-"+a.id];if(C){C.classList.remove("active")}a.classList.add("active");o.className="step-"+a.id;b.clearTimeout(D);D=b.setTimeout(function(){b.location.hash="#/"+a.id},u.transitionDuration);var f={rotate:{x:-d.rotate.x,y:-d.rotate.y,z:-d.rotate.z},translate:{x:-d.translate.x,y:-d.translate.y,z:-d.translate.z},scale:1/d.scale};var g=f.scale>=y.scale;var h=C?u.transitionDuration+"ms":"0ms",i=u.transitionDuration/2+"ms";if(c){E=B()}e(o,{transform:m(u.perspective/(f.scale*E))+l(f.scale*E),transitionDuration:h,transitionDelay:g?i:"0ms"});e(v,{transform:k(f.rotate,true)+j(f.translate),transitionDuration:h,transitionDelay:g?"0ms":i});y=f;C=a;return a};var G=function(){var a=w.indexOf(C)-1;a=a>=0?w[a]:w[w.length-1];return F(a)};var H=function(){var a=w.indexOf(C)+1;a=a<w.length?w[a]:w[0];return F(a)};b.addEventListener("hashchange",function(){F(n())},false);b.addEventListener("orientationchange",function(){b.scrollTo(0,0)},false);F(n()||w[0]);return q["impress-root-"+c]={"goto":F,next:H,prev:G}}})(document,window);(function(a,b){"use strict";var c=function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c);c=setTimeout(function(){a.apply(d,e)},b)}};a.addEventListener("keydown",function(a){if(a.keyCode==9||a.keyCode>=32&&a.keyCode<=34||a.keyCode>=37&&a.keyCode<=40){a.preventDefault()}},false);a.addEventListener("keyup",function(a){if(a.keyCode==9||a.keyCode>=32&&a.keyCode<=34||a.keyCode>=37&&a.keyCode<=40){switch(a.keyCode){case 33:;case 37:;case 38:impress().prev();break;case 9:;case 32:;case 34:;case 39:;case 40:impress().next();break}a.preventDefault()}},false);a.addEventListener("click",function(b){var c=b.target;while(c.tagName!="A"&&c!=a.documentElement){c=c.parentNode}if(c.tagName=="A"){var d=c.getAttribute("href");if(d&&d[0]=="#"){c=a.getElementById(d.slice(1))}}if(impress().goto(c)){b.stopImmediatePropagation();b.preventDefault()}},false);a.addEventListener("click",function(b){var c=b.target;while(!c.classList.contains("step")&&c!=a.documentElement){c=c.parentNode}if(impress().goto(c)){b.preventDefault()}},false);a.addEventListener("touchstart",function(a){if(a.touches.length===1){var c=a.touches[0].clientX,d=b.innerWidth*.3,e=null;if(c<d){e=impress().prev()}else if(c>b.innerWidth-d){e=impress().next()}if(e){a.preventDefault()}}},false);b.addEventListener("resize",c(function(b){impress().goto(a.querySelector(".active"),true)},250),false)})(document,window)
